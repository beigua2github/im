<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="Cache-Control" content="no-cache"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <meta name="format-detection" content="telephone=no"/>
    <meta name="format-detection" content="email=no"/>

    <meta name="viewport" content="width=device-width">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link href='http://fonts.useso.com/css?family=Open+Sans:300,400,600&subset=latin,latin-ext' rel='stylesheet'>

    <script language="javascript" type="text/javascript" src="/static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="/static/js/move.js"></script>
    <script type="text/javascript" src="static/js/modernizr.min.js"></script>
    <script type='text/javascript' src="static/js/jquery.min.js"></script>
    <!-- <script type='text/javascript' src="http://libs.useso.com/js/jquery/2.1.1/jquery.min.js"></script> -->
    <script type='text/javascript' src="static/js/bootstrap-slider.min.js"></script>
    <script src="https://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>

    <link href="static/css/sevenChoosefive.css" rel="stylesheet" type="text/css"/>
    <link href='http://fonts.useso.com/css?family=Open+Sans:300,400,600&subset=latin,latin-ext' rel='stylesheet'>
    <link rel="stylesheet" type="text/css" href="static/css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="static/css/default.css">
    <!-- <link href="http://libs.useso.com/js/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet"> -->
    <link rel="stylesheet" type="text/css" href="static/css/bootstrap.min.css">
    <link href="static/css/bootstrap-slider.min.css" rel="stylesheet">

    <style type="text/css">

    </style>

</head>


<body>
<div class="whole">
    <!--首页头部信息-->
    <div class="head">
        <div class="t_pic">
            <img src="static/image/head.jpg"/>
        </div>
        <div class="t_tit">
            <p>请选择方法以确定五大重点</p>
        </div>
    </div>

    <!--首页方法选择-->
    <div class="method">
        <button id="button_method1">A.后台分析得出五大重点</button>
        <button id="button_method2">B.直接选择五大重点</button>
    </div>


    <!--提示遮罩层,正在提交数据-->
    <div class="ts_mask2">
        <div class="tishi2">
            <div class="qd2"></div>
        </div>
    </div>

    <!--方法A的遮罩层-->
    <div class="method1_mask">
        <div class="method1">


            <div class="method_head">
                <img src="static/image/category1.jpg"/>
                <p>方法A:请选择一下任意标签</p>
            </div>

            <div class="method1_con">

                <div id="point1">
                    <h1>1.沟通</h1>
                    <div class="focus" id="focus1">
                        <h2>关注焦点:</h2>
                    </div>
                    <div class="reason" id="reason1">
                        <h2>原因:</h2>
                    </div>
                </div>

                <div id="point2">
                    <h1>2.人际能力</h1>
                    <div class="focus" id="focus2">
                        <h2>关注焦点:</h2>
                    </div>
                    <div class="reason" id="reason2">
                        <h2>原因:</h2>
                    </div>
                </div>

                <div id="point3">
                    <h1>3.人格</h1>
                    <div class="focus" id="focus3">
                        <h2>关注焦点</h2>
                    </div>
                    <div class="reason" id="reason3">
                        <h2>原因:</h2>
                    </div>
                </div>

                <div id="point4">
                    <h1>4.学习力</h1>
                    <div class="focus" id="focus4">
                        <h2>关注焦点</h2>
                    </div>
                    <div class="reason" id="reason4">
                        <h2>原因:</h2>
                    </div>
                </div>

                <div id="point5">
                    <h1>5.情绪</h1>
                    <div class="focus" id="focus5">
                        <h2>关注焦点</h2>
                    </div>
                    <div class="reason" id="reason5">
                        <h2>原因:</h2>
                    </div>
                </div>

                <div class="page">
                    <a href="#point1" id="page1">[1]</a>
                    <a href="#point2" id="page2">[2]</a>
                    <a href="#point3" id="page3">[3]</a>
                    <a href="#point4" id="page4">[4]</a>
                    <a href="#point5" id="page5">[5]</a>
                </div>
            </div>



            <div class="method_tail">
                <button class="button_back" id="button_back1">返回</button>
                <button class="button_save" id="button_save1">确定</button>
            </div>
        </div>

    </div>

    <!--方法B的遮罩层-->
    <div class="method2_mask">
        <div class="method2">

            <div class="method_head">
                <img src="static/image/category1.jpg"/>
                <p>方法B:请选择5个维度</p>
            </div>

            <div class="method2_con">
                <button class="button_c1">
                    <img src="static/image/category1.jpg"><p>情绪力</p>
                </button>
                <button class="button_c2">
                    <img src="static/image/category2.jpg"><p>人际力</p>
                </button>
                <button class="button_c3">
                    <img src="static/image/category3.jpg"><p>自主力</p>
                </button>
                <button class="button_c4">
                    <img src="static/image/category4.jpg"><p>专注力</p>
                </button>
                <button class="button_c5">
                    <img src="static/image/category5.jpg"><p>意志力</p>
                </button>
                <button class="button_c6">
                    <img src="static/image/category6.jpg"><p>学习认知</p>
                </button>
                <button class="button_c7">
                    <img src="static/image/category7.jpg"><p>学习策略</p>
                </button>
            </div>

            <div class="method_tail">
                <button class="button_back" id="button_back2">返回</button>
                <button class="button_save" id="button_save2">确定</button>
            </div>
        </div>

    </div>


</div>
</body>
</html>


<script>
    //定义全局变量
    //方法A的变量
    //方法A存放成长重点的焦点
    var category1_focus=['如何引导','任性','不听话'];
    var category2_focus=['环境适应','被认可','不愿意打招呼','生存能力','竞争能力','自我保护力','不能守规矩'];
    var category3_focus=['孤僻','自闭','忧郁','敏感','安全感','自觉性','小气','自尊心','责任心','同情心','忌妒','粘人','自卑','虚荣心','自私','胆小','脾气大'];
    var category4_focus=['学得浅','兴趣或没动力','激励或压力','不去补习班','拖沓'];
    var category5_focus=['易被消极情绪控制'];
    //方法A存放成长重点的原因
    var category1_reason=['不自信','不被尊重','不能倾听','话语理解','情绪调控（害怕、恐惧）','被忽视','遇到困境','没有支持'];
    var category2_reason=['不自信','自尊心','沟通方式','自我中心','互动体验','感同身受','情绪调控','利他','关注与支持','守规矩','尊重','适宜','共识','执行','调整'];
    var category3_reason=['自尊','责任','独立性','自我意识','勇气','韧性','安全感','爱'];
    var category4_reason=['学习策略','学习探索动力','学习认知','专注力','意志力','速度慢','做不来','求关注','不喜欢这门课','身体不舒服'];
    var category5_reason=['消极情绪','情绪表达方式','理解','沟通','发现','改进'];

    //方法B的变量
    var flag_array=new Array();//方法B存放七个维度是否选中的标记
    var flag1=0, flag2=0, flag3=0, flag4=0, flag5=0, flag6=0, flag7=0;//七个维度是否选择的标记
    var clicksum=0;//控制七个维度只能选择5个
    var save2_click=0, save1_click=0;//控制方法A和B的提交次数




    $(document).ready(function () {

        //从数组中动态导入标签
        function addlabel () {
            //第一个成长重点
            for (var i=0;i<category1_focus.length;i++){
                var tmp = '<button>'+category1_focus[i]+'</button>';$('#focus1').append(tmp);}
            for (var i=0;i<category1_reason.length;i++){
                var tmp = '<button>'+category1_reason[i]+'</button>';$('#reason1').append(tmp);}
            //第二个成长重点
            for (var i=0;i<category2_focus.length;i++){
                var tmp = '<button>'+category2_focus[i]+'</button>';$('#focus2').append(tmp);}
            for (var i=0;i<category2_reason.length;i++){
                var tmp = '<button>'+category2_reason[i]+'</button>';$('#reason2').append(tmp);}
            //第三个成长重点
            for (var i=0;i<category3_focus.length;i++){
                var tmp = '<button>'+category3_focus[i]+'</button>';$('#focus3').append(tmp);}
            for (var i=0;i<category3_reason.length;i++){
                var tmp = '<button>'+category3_reason[i]+'</button>';$('#reason3').append(tmp);}
            //第四个成长重点
            for (var i=0;i<category4_focus.length;i++){
                var tmp = '<button>'+category4_focus[i]+'</button>';$('#focus4').append(tmp);}
            for (var i=0;i<category4_reason.length;i++){
                var tmp = '<button>'+category4_reason[i]+'</button>';$('#reason4').append(tmp);}
            //第五个成长重点
            for (var i=0;i<category5_focus.length;i++){
                var tmp = '<button>'+category5_focus[i]+'</button>';$('#focus5').append(tmp);}
            for (var i=0;i<category5_reason.length;i++){
                var tmp = '<button>'+category5_reason[i]+'</button>';$('#reason5').append(tmp);}
        }

        addlabel();




        //选择方法A
        $("#button_method1").click(function () {
            $(".method1_mask").fadeIn();
            var page=1;
            $("#page1").css('color','#000');
            //选择第一页
            $("#page1").click(function () {
                $("#point1").css('display','block');
                $("#point2").css('display','none');
                $("#point3").css('display','none');
                $("#point4").css('display','none');
                $("#point5").css('display','none');
                $("#page1").css('color','#000');
                $("#page2").css('color','#fff');
                $("#page3").css('color','#fff');
                $("#page4").css('color','#fff');
                $("#page5").css('color','#fff');
                page=1;
            });
            //选择第二页
            $("#page2").click(function () {
                $("#point1").css('display','none');
                $("#point2").css('display','block');
                $("#point3").css('display','none');
                $("#point4").css('display','none');
                $("#point5").css('display','none');
                $("#page1").css('color','#fff');
                $("#page2").css('color','#000');
                $("#page3").css('color','#fff');
                $("#page4").css('color','#fff');
                $("#page5").css('color','#fff');
                page=2;
            });
            //选择第三页
            $("#page3").click(function () {
                $("#point1").css('display','none');
                $("#point2").css('display','none');
                $("#point3").css('display','block');
                $("#point4").css('display','none');
                $("#point5").css('display','none');
                $("#page1").css('color','#fff');
                $("#page2").css('color','#fff');
                $("#page3").css('color','#000');
                $("#page4").css('color','#fff');
                $("#page5").css('color','#fff');
                page=3;
            });
            //选择第四页
            $("#page4").click(function () {
                $("#point1").css('display','none');
                $("#point2").css('display','none');
                $("#point3").css('display','none');
                $("#point4").css('display','block');
                $("#point5").css('display','none');
                $("#page1").css('color','#fff');
                $("#page2").css('color','#fff');
                $("#page3").css('color','#fff');
                $("#page4").css('color','#000');
                $("#page5").css('color','#fff');
                page=4;
            });
            //选择第五页
            $("#page5").click(function () {
                $("#point1").css('display','none');
                $("#point2").css('display','none');
                $("#point3").css('display','none');
                $("#point4").css('display','none');
                $("#point5").css('display','block');
                $("#page1").css('color','#fff');
                $("#page2").css('color','#fff');
                $("#page3").css('color','#fff');
                $("#page4").css('color','#fff');
                $("#page5").css('color','#000');
                page=5;
            });
        });
        //方法A的返回按钮
        $("#button_back1").click(function () {
            $(".method1_mask").fadeOut();
            $("#point1").css('display','block');
            $("#point2").css('display','none');
            $("#point3").css('display','none');
            $("#point4").css('display','none');
            $("#point5").css('display','none');
            $("#page1").css('color','#000');
            $("#page2").css('color','#fff');
            $("#page3").css('color','#fff');
            $("#page4").css('color','#fff');
            $("#page5").css('color','#fff');
        });
        //方法A的确认按钮
        $("#button_save1").click(function () {
            if(save1_click==0){
                $(".ts_mask2").fadeIn(1000);//提示正在提交数据

//                $.ajax({
//                    url: '',
//                    data: {
//                        openId:child.openid,
//                        name: child.name,
//                        evaluationPerson:child.evaluationPerson,
//                        evaluationTime: getNowFormatDate(),
//                        now_score: now_score,
//                        now_comment: now_comment
//                    },
//                    type: 'post',
//                    cache: false,
//                    dataType: 'json',
//                    success: function (data) {
//                        console.log(data);
//                        if (data.code == 200) {
//                            $(".ts_mask2").fadeOut(1000);
//                            //alert("success");
//                            window.location.href = 'watchForm.html';
//                        }
//                        else {
//                            alert("查询失败: " + data.msg);
//                        }
//                    },
//                    error: function () {
//                        alert("服务器处理异常");
//                    }
//                });
            }

        });



        //选择方法B
        $("#button_method2").click(function () {
            $(".method2_mask").fadeIn();

            //7个维度选择5个
            $(".button_c1").click(function () {
                if(flag1==0 && 5>clicksum){
                    flag1 = 1; clicksum++;console.log(clicksum,flag1);
                    $(".button_c1").css('opacity', '1');
                }
            });
            $(".button_c2").click(function () {
                if(flag2==0 && 5>clicksum){
                    flag2 = 1; clicksum++;console.log(clicksum,flag2);
                    $(".button_c2").css('opacity', '1');
                }
            });
            $(".button_c3").click(function () {
                if(flag3==0 && 5>clicksum){
                    flag3 = 1; clicksum++;console.log(clicksum,flag3);
                    $(".button_c3").css('opacity', '1');
                }
            });
            $(".button_c4").click(function () {
                if(flag4==0 && 5>clicksum){
                    flag4 = 1; clicksum++;console.log(clicksum,flag4);
                    $(".button_c4").css('opacity', '1');
                }
            });
            $(".button_c5").click(function () {
                if(flag5==0 && 5>clicksum){
                    flag5 = 1; clicksum++;console.log(clicksum,flag5);
                    $(".button_c5").css('opacity', '1');
                }
            });
            $(".button_c6").click(function () {
                if(flag6==0 && 5>clicksum){
                    flag6 = 1; clicksum++;console.log(clicksum,flag6);
                    $(".button_c6").css('opacity', '1');
                }
            });
            $(".button_c7").click(function () {
                if(flag7==0 && 5>clicksum){
                    flag7 = 1; clicksum++;console.log(clicksum,flag7);
                    $(".button_c7").css('opacity', '1');
                }
            });


        });
        //方法2的返回按钮
        $("#button_back2").click(function () {
            $(".method2_mask").fadeOut();
            //所有选择全部重置
            flag1=0;flag2=0;flag3=0;flag4=0;flag5=0;flag6=0;flag7=0;
            clicksum=0;
            $(".button_c1").css('opacity', '0.5');
            $(".button_c2").css('opacity', '0.5');
            $(".button_c3").css('opacity', '0.5');
            $(".button_c4").css('opacity', '0.5');
            $(".button_c5").css('opacity', '0.5');
            $(".button_c6").css('opacity', '0.5');
            $(".button_c7").css('opacity', '0.5');
        });
        //方法2的确认按钮
        $("#button_save2").click(function () {
            if(save2_click==0){//确保只提交一次
                save2_click++;
                $(".ts_mask2").fadeIn(1000);//提示正在提交数据

                //调用ajax传数据给后台
                $.ajax({
                    url: '',
                    data: {
                        name: "黑仔一号",
                        evaluationPerson: "黑仔一号的爸爸",
                        evaluationTime: getNowFormatDate(),
                        flag_array: flag_array,
                    },
                    type: 'post',
                    cache: false,
                    dataType: 'json',
                    success: function (data) {
                        console.log(data);
                        if (data.code == 200) {
                            $(".ts_mask2").fadeOut(1000);
                            //alert("success");
                            window.location.href = '../watchForm.html';
                        }
                    },
                    error: function () {
                        alert("服务器处理异常");
                    }
                });
            }
        });





    })
</script>